/*
 * globals.h
 *
 *  Created on: Oct 26, 2023
 *      Author: Leo
 */

#ifndef SRC_GLOBALS_H_
#define SRC_GLOBALS_H_

#define LOG_SIZE 10000
#define MOVING_AVG_LENGTH 50
#define TIMER_FREQ 96000000 	// in Hz
#define US_TO_TICKS TIMER_FREQ/(1000*1000) //multiply by this to convert us to number of timer ticks
#define DROP_SPEED 5000			// in mm/s, the speed that the drop moves at
#define LOGGING_TIMEBASE 10		// in ms, how often a position is logged and drop calculation made
#define TARGET_DIST_ORTH 100	// in mm, horizontal distance between dispense tip and target
#define DISPENSE_LATENCY 56		// in us, latency between signal output and drop being dispensed
extern uint32_t dispense_delay_ticks; // in ticks, time between dispensing signal and hitting target
								// this is a function of latency(constant), drop speed and target distance
								// target distance is a function of tilt angle
extern uint32_t posLog[LOG_SIZE];
extern uint32_t log_position;
extern uint32_t running_sum;
extern uint32_t timepoint_pos; 	// the tick where you want the drop to intersect the target

#endif /* SRC_GLOBALS_H_ */
